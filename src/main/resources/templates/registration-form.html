<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Define required meta tags for character set and viewport -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Include Bootstrap CSS from a specific CDN with integrity check -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/>

    <title>Registration Form</title>
</head>
<body style="background-color:#CBF1F5">
<div class="container">

    <div id="login-box" style="margin-top: 50px;"
         class="col-md-6 col-md-offset-2 col-sm-6 col-sm-offset-2">
        <div class="card border-info">
            <div class="card-header bg-info">
                Registration
            </div>
            <div class="card-body">
                <div class="card-text">
                    <!-- Registration Form -->
                    <form action="#" th:action="@{/home/processRegistrationForm}"
                          th:object="${webUser}"
                          method="POST" class="form-horizontal">
                        <!-- Place for error messages -->
                        <div class="form-group">
                            <div class="col-xs-15">
                                <div>
                                    <!-- Check for registration error -->
                                    <div th:if="${param.registrationError}">
                                        <div class="alert alert-danger col-xs-offset-1 col-xs-10">
                                            <span th:text="${param.registrationError}"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Username Input -->
                        <div style="padding-top:20px" class="form-group">
                            <label for="userName">Username</label>
                            <input class="form-control" id="userName" placeholder="Username" th:field="*{userName}" type="text">
                            <div class="alert alert-warning" th:errors="*{userName}" th:if="${#fields.hasErrors('userName')}"></div>
                        </div>

                        <!-- Password Input -->
                        <div style="padding-top:20px" class="form-group">
                            <label for="password">Password</label>
                            <input class="form-control" id="password" placeholder="Password" th:field="*{password}" type="text">
                            <div class="alert alert-warning" th:errors="*{password}" th:if="${#fields.hasErrors('password')}"></div>
                        </div>

                        <!-- First Name Input -->
                        <div style="padding-top:20px" class="form-group">
                            <label for="firstName">First name</label>
                            <input class="form-control" id="firstName" placeholder="First name" th:field="*{firstName}" type="text">
                            <div class="alert alert-warning" th:errors="*{firstName}" th:if="${#fields.hasErrors('firstName')}"></div>
                        </div>

                        <!-- Last Name Input -->
                        <div style="padding-top:20px" class="form-group">
                            <label for="lastName">Last name</label>
                            <input class="form-control" id="lastName" placeholder="Last name" th:field="*{lastName}" type="text">
                            <div class="alert alert-warning" th:errors="*{lastName}" th:if="${#fields.hasErrors('lastName')}"></div>
                        </div>

                        <!-- Email Input -->
                        <div style="padding-top:20px" class="form-group">
                            <label for="email">Email</label>
                            <input class="form-control" id="email" placeholder="Email" th:field="*{email}" type="text">
                            <div class="alert alert-warning" th:errors="*{email}" th:if="${#fields.hasErrors('email')}"></div>
                        </div>

                        <!-- Role Radio Buttons -->
                        <div style="padding-top:20px" class="form-group col-6">
                            <label for="role">Role</label>
                            <br>
                            <div class="form-check form-check-inline" id="role">
                                <input class="form-check-input" id="inlineRadio1" name="role" type="radio" value="ROLE_STUDENT">
                                <label class="form-check-label" for="inlineRadio1">Student</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" id="inlineRadio2" name="role" type="radio" value="ROLE_TEACHER">
                                <label class="form-check-label" for="inlineRadio2">Teacher</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" id="inlineRadio3" name="role" type="radio" value="ROLE_ADMIN">
                                <label class="form-check-label" for="inlineRadio3">Admin</label>
                            </div>
                            <div class="alert alert-warning" th:errors="*{role}" th:if="${#fields.hasErrors('role')}"></div>
                        </div>
                        <br><br>

                        <!-- Back to Directory Button -->
                        <a class="btn btn-info col-md-5" th:href="@{/home/directory}">
                            Back to Directory
                        </a>

                        <!-- Registration Button -->
                        <button type="submit" class="btn btn-success col-md-5">Register</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
